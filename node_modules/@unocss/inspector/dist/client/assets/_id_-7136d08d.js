import{s as O,t as R,x as I,d as B,y as W,z as D,r as C,u as U,A as j,B as Z,C as q,i,c as w,e as v,w as A,g as d,D as M,_ as G,o as E,k as S,E as V,F as N,n as P,h as H,v as K,M as J,G as L,m as Q,l as X,q as Y,H as tt}from"./index-37a7aac6.js";const F=/^(?!.*\[(?:[^:]+):(?:.+)\]$)((?:.+:)?!?)?(.*)$/,et=(t={})=>{const n=t.prefix??"un-",a=t.prefixedOnly??!1,m=t.trueToNonValued??!1;return{name:"attributify",match(h){const x=O(h);if(!x)return;let e=x[1];if(e.startsWith(n))e=e.slice(n.length);else if(a)return;const l=x[2],[,c="",r=l]=l.match(F)||[];return r==="~"||m&&r==="true"||!r?`${c}${e}`:`${c}${e}-${r}`}}},rt=/(<\w[\w:\.$-]*\s)((?:'[^>]*?'|"[^>]*?"|`[^>]*?`|\{[^>]*?\}|[^>]*?)*)/g,lt=/([?]|(?!\d|-{2}|-\d)[a-zA-Z0-9\u00A0-\uFFFF-_:%-]+)(?:=("[^"]*|'[^']*))?/g,z=/[\s'"`;>]+/,st={name:"attributify",extract:({content:t,cursor:n})=>{const a=t.matchAll(rt);let m,h=0;for(const s of a){const[,p,y]=s,b=s.index+p.length;if(n>b&&n<=b+y.length){h=b,m=y;break}}if(!m)return null;const x=m.matchAll(lt);let e=0,l,c;for(const s of x){const[p,y,b]=s,$=h+s.index;if(n>$&&n<=$+p.length){e=$,l=y,c=b==null?void 0:b.slice(1);break}}if(!l||l==="class"||l==="className"||l===":class")return null;if(c===void 0)return{extracted:l,resolveReplacement(s){return{start:e,end:e+l.length,replacement:s}}};const r=e+l.length+2;let u=z.exec(c),o=0,_;for(;u;){const[s]=u;if(n>r+o&&n<=r+o+u.index){_=c.slice(o,o+u.index);break}o+=u.index+s.length,u=z.exec(c.slice(o))}_===void 0&&(_=c.slice(o));const[,f="",g]=_.match(F)||[];return{extracted:`${f}${l}-${g}`,transformSuggestions(s){return s.filter(p=>p.startsWith(`${f}${l}-`)).map(p=>f+p.slice(f.length+l.length+1))},resolveReplacement(s){return{start:o+r,end:o+r+_.length,replacement:f+s.slice(f.length+l.length+1)}}}}},nt=["v-bind:",":"],k=/[\s'"`;]+/g,at=/<\w(?=.*>)[\w:\.$-]*\s((?:['"`\{].*?['"`\}]|.*?)*?)>/gs,ct=/([?]|(?!\d|-{2}|-\d)[a-zA-Z0-9\u00A0-\uFFFF-_:!%-.]+)=?(?:["]([^"]*)["]|[']([^']*)[']|[{]([^}]*)[}])?/gms,T=["placeholder"],ot=t=>{const n=(t==null?void 0:t.ignoreAttributes)??T,a=(t==null?void 0:t.nonValuedAttribute)??!0,m=(t==null?void 0:t.trueToNonValued)??!1;return{name:"attributify",extract({code:h}){const x=Array.from(h.matchAll(at)).flatMap(e=>Array.from((e[1]||"").matchAll(ct))).flatMap(([,e,...l])=>{const c=l.filter(Boolean).join("");if(n.includes(e))return[];for(const r of nt)if(e.startsWith(r)){e=e.slice(r.length);break}if(!c){if(R(e)&&a!==!1){const r=[`[${e}=""]`];return m&&r.push(`[${e}="true"]`),r}return[]}if(["class","className"].includes(e))return c.split(k).filter(R);{if((t==null?void 0:t.prefixedOnly)&&t.prefix&&!e.startsWith(t.prefix))return[];const r=Array.from(c.matchAll(/(?:[\?:].*?)(["'])([^\1]*?)\1/gms)).map(([,,u])=>u.split(k)).flat();return(r.length?r:c.split(k)).filter(u=>Boolean(u)&&u!==":").map(u=>`[${e}~="${u}"]`)}});return new Set(x)}}},it=(t={})=>{t.strict=t.strict??!1,t.prefix=t.prefix??"un-",t.prefixedOnly=t.prefixedOnly??!1,t.nonValuedAttribute=t.nonValuedAttribute??!0,t.ignoreAttributes=t.ignoreAttributes??T;const n=[et(t)],a=[ot(t)],m=[st];return t.strict||a.unshift(I),{name:"@unocss/preset-attributify",variants:n,extractors:a,options:t,autocomplete:{extractors:m}}},ut={key:0,"h-full":"","of-hidden":""},dt=d("div",{op50:""}," Module ",-1),ft=d("div",{"i-carbon-launch":""},null,-1),mt=d("div",{op50:""}," Matched Rules ",-1),ht=d("div",{op50:""}," CSS Size ",-1),_t=d("span",{op50:""},"gzipped",-1),pt={key:0,"row-span-3":""},xt=d("div",{op50:""}," Potentially Unmatched ",-1),yt={"h-full":"","of-hidden":""},gt=B({__name:"ModuleInfo",props:{id:null},setup(t){const n=t,{data:a}=W(D(n,"id")),m=n.id.split(/\./g).pop(),h=C(null),x=U(h,"module-scrolls");function e(){fetch(`/__open-in-editor?file=${encodeURIComponent(n.id)}`)}const{extractors:l}=it({strict:!0}),c=j(async()=>{var _;const o=new Set;if(l){const f={code:((_=a.value)==null?void 0:_.code)||""};for(const g of l){const s=await g.extract(f);s==null||s.forEach(p=>o.add(p))}}return Array.from(o).filter(f=>!f.startsWith("[")).filter(f=>{var g;return!((g=a.value)!=null&&g.matched.includes(f))})}),r=C(!1),u=Z(q(()=>{var o;return(o=a.value)==null?void 0:o.css}),r);return(o,_)=>{const f=L,g=G,s=Q,p=X;return i(a)?(E(),w("div",ut,[v(g,{ref_key:"status",ref:h,grid:"~ cols-3 gap-4"},{default:A(()=>{var y;return[d("div",null,[dt,d("a",{"cursor-pointer":"",op80:"","hover:op100":"",onClick:e},[v(f,{id:i(a).id,"mr-1":""},null,8,["id"]),ft])]),d("div",null,[mt,S(" "+V(i(a).matched.length),1)]),d("div",null,[ht,S(" "+V(((((y=i(a))==null?void 0:y.gzipSize)||0)/1024).toFixed(2))+" KiB ",1),_t]),i(c).length?(E(),w("div",pt,[xt,d("code",null,V(i(c).join(", ")),1)])):M("",!0)]}),_:1},512),d("div",yt,[v(i(J),null,{default:A(()=>[v(i(N),{size:"50"},{default:A(()=>[v(s,{"h-full":"","model-value":i(a).code,"read-only":!0,mode:i(m),matched:i(a).matched,class:"scrolls module-scrolls",style:P(i(x))},null,8,["model-value","mode","matched","style"])]),_:1}),v(i(N),{size:"50"},{default:A(()=>[d("div",null,[v(p,{border:"l b gray-400/20",title:"Output CSS"},{default:A(()=>[d("label",null,[H(d("input",{"onUpdate:modelValue":_[0]||(_[0]=y=>r.value=y),type:"checkbox"},null,512),[[K,r.value]]),S(" Prettify ")])]),_:1}),v(s,{"h-full":"",b:"l main","model-value":i(u),"read-only":!0,mode:"css",class:"scrolls module-scrolls",style:P(i(x))},null,8,["model-value","style"])])]),_:1})]),_:1})])])):M("",!0)}}}),bt=B({__name:"[id]",setup(t){const n=tt();return(a,m)=>{const h=gt;return E(),Y(h,{id:i(n).params.id},null,8,["id"])}}});export{bt as default};
